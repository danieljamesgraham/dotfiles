#      __                     __                __
#     / /_  __  ______  _____/ /___ _____  ____/ /
#    / __ \/ / / / __ \/ ___/ / __ `/ __ \/ __  / 
#   / / / / /_/ / /_/ / /  / / /_/ / / / / /_/ /  
#  /_/ /_/\__, / .___/_/  /_/\__,_/_/ /_/\__,_/   
#        /____/_/                                 
#      __    _           __    
#     / /_  (_)___  ____/ /____
#    / __ \/ / __ \/ __  / ___/
#   / /_/ / / / / / /_/ (__  ) 
#  /_.___/_/_/ /_/\__,_/____/  
                            

$mainMod = SUPER

# Lid
bindl = , switch:on:Lid Switch, exec, $HOME/.config/hypr/scripts/close_lid.sh
bindl = , switch:off:Lid Switch, exec, hyprctl dispatch dpms on

# Power button
bind = , XF86PowerOff, exec, hyprlock
bind = $mainMod, XF86PowerOff, exec, hyprctl dispatch exit

# Quit
bind = $mainMod, Q, killactive,

# Kitty
bind = $mainMod, Return, exec, kitty

# # Btop
# bind = $mainMod, B, exec, kitty --title btop -e btop

# Hyprpicker
bind = $mainMod SHIFT, C, exec, hyprpicker

# Rofi
bind = $mainMod, D, exec, rofi -show drun -show-icons  # drun
bind = $mainMod SHIFT, Return, exec, rofi -show ssh -no-parse-known-hosts  # SSH
bind = $mainMod, V, exec, wtype $(cliphist list | rofi -dmenu -theme-str 'listview {fixed-height: true;}' | cliphist decode)
bind = $mainMod CTRL, V, exec, cliphist wipe
bind = $mainMod, C, exec, rofi -show calc -modi calc -no-show-match -no-sort -automatic-save-to-history -hint-welcome "Result:" -calc-command 'wtype "{result}"'  # Calculator
bind = $mainMod, E, exec, rofi -modi emoji -show emoji -emoji-format '<span font-family="Noto Color Emoji">{emoji}</span> {name}'  # Emoji
bind = $mainMod, W, exec, sh ~/.config/rofi/scripts/rofi-web-search.sh  # Duckduckgo
bind = $mainMod SHIFT, W, exec, rofi -show bookmarks -modi 'bookmarks: /$HOME/.config/rofi/scripts/rofi-bookmarks.py "toolbar" --separator "/"' -show-icons  # Firefox bookmarks

# Floating windows
bind = $mainMod, F, exec, hyprctl dispatch focuswindow $(if [[ $(hyprctl activewindow -j | jq ."floating") == "true" ]]; then echo "tiled"; else echo "floating"; fi;)
bind = $mainMod SHIFT, F, togglefloating,

# Maximise windows
bind = $mainMod, M, fullscreen, 1
bind = $mainMod SHIFT, M, fullscreen, 0

# Move focus
bind = $mainMod, H, movefocus, l
bind = $mainMod, L, movefocus, r
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d

# Move window
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod SHIFT, L, movewindow, r
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod SHIFT, J, movewindow, d

# Resize window
binde = $mainMod ALT, H, resizeactive, -10 0
binde = $mainMod ALT, L, resizeactive, 10 0
binde = $mainMod ALT, K, resizeactive, 0 -10
binde = $mainMod ALT, J, resizeactive, 0 10

# Position window
binde = $mainMod ALT SHIFT, H, moveactive, -10 0
binde = $mainMod ALT SHIFT, L, moveactive, 10 0
binde = $mainMod ALT SHIFT, K, moveactive, 0 -10
binde = $mainMod ALT SHIFT, J, moveactive, 0 10

# Switch workspace
bind = $mainMod, N, workspace, e+1
bind = $mainMod, P, workspace, e-1
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move window to workspace
bind = $mainMod SHIFT, N, movetoworkspace, e+1
bind = $mainMod SHIFT, P, movetoworkspace, e-1
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Special workspace
bind = $mainMod, S, togglespecialworkspace, 
bind = $mainMod SHIFT, S, movetoworkspace, special:

# Scroll through workspaces
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Drag to move & resize windows
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

bind = $mainMod ALT, F, exec, hyprctl dispatch centerwindow

# Volume
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# Brightness
bindel = ,XF86MonBrightnessUp, exec, brightnessctl set 5%+
bindel = ,XF86MonBrightnessDown, exec, bash -c 'if [ $(( $(brightnessctl get) * 100 / $(brightnessctl max) )) -gt 5 ]; then brightnessctl set 5%-; fi'

# Playerctl
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause

# Grim
bind = , PRINT, exec, $HOME/.config/hypr/scripts/grim.sh
bind = $mainMod, PRINT, exec, $HOME/.config/hypr/scripts/grim.sh slurp
